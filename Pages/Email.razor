@page "/mail"
@using CititorServer.Data.Model
@using CititorServer.Data.Service
@inject IEmailSenderService EmailSenderService
@inject NavigationManager NavigationManager

<h1>Enviar cotizaci√≥n</h1>

<EditForm Model="@mail" OnValidSubmit="SendEmail">

<table class ="table">
    <tr>
        <td>Email:</td>
        <td><input type="text" @bind="mail.Email" /></td>
    </tr>
    <tr>
        <td>Subject:</td>
        <td><input type="text" @bind="mail.Subject" /></td>
    </tr>
    <tr>
        <td>Body:</td>
        <td><input type="text" @bind="mail.Body" /></td>
    </tr>
    <tr>
        <td colspan="2">
            <input type = "submit" class ="btn-success" value ="Send" /></td>
            </tr>
    </table>
</EditForm>

@code
{
    MailRequest mail = new MailRequest();

  private void SendEmail()
    {
    
        EmailSenderService.SendEmailAsync(mail);
        
    }
}